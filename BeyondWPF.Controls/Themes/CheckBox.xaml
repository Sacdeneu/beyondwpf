<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Fallback/Design-time Brush to satisfy compiler -->
    <SolidColorBrush x:Key="SystemAccentBrush" Color="#0078D7"/>

    <!-- STANDARD CHECKBOX -->
    <Style x:Key="StandardCheckBoxStyle" TargetType="CheckBox">
        <Setter Property="SnapsToDevicePixels" Value="true"/>
        <Setter Property="OverridesDefaultStyle" Value="true"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="{DynamicResource BorderLightBrush}"/>
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="10,0,0,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <Grid Background="Transparent" VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Box -->
                        <Grid Height="20" Width="20" VerticalAlignment="Center">
                            <Border x:Name="Border"
                                    Background="Transparent"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="4"/>
                            
                            <!-- Check Mark -->
                            <!-- Check Mark -->
                            <Grid Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path x:Name="CheckMark"
                                      Data="M0,5 L4,9 L10,0"
                                      Stroke="White"
                                      StrokeThickness="2"
                                      Stretch="Uniform"
                                      Visibility="Collapsed"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center"
                                      SnapsToDevicePixels="False"/>
                            </Grid>

                             <!-- Indeterminate Mark -->
                            <Rectangle x:Name="IndeterminateMark"
                                       Fill="{TemplateBinding Foreground}"
                                       Height="2" Width="10"
                                       Visibility="Collapsed"/>
                        </Grid>

                        <ContentPresenter Grid.Column="1"
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left"
                                          RecognizesAccessKey="True"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                             <Setter TargetName="Border" Property="Background" Value="{DynamicResource SystemAccentBrush}"/>
                             <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource SystemAccentBrush}"/>
                             <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                        </Trigger>
                        
                        <Trigger Property="IsChecked" Value="{x:Null}"> <!-- Indeterminate -->
                            <Setter TargetName="IndeterminateMark" Property="Visibility" Value="Visible"/>
                        </Trigger>
                        
                         <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- TOGGLE SWITCH STYLE -->
    <Style x:Key="ToggleSwitchStyle" TargetType="CheckBox">
        <Setter Property="SnapsToDevicePixels" Value="true"/>
        <Setter Property="OverridesDefaultStyle" Value="true"/>
        <Setter Property="Background" Value="{DynamicResource ControlDarkBrush}"/> <!-- Off color -->
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="10,0,0,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <Grid Background="Transparent" VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Track -->
                        <Border x:Name="Track"
                                Width="40" Height="22"
                                Background="{TemplateBinding Background}"
                                CornerRadius="11">
                            <!-- Knob -->
                            <Ellipse x:Name="Knob"
                                     Width="18" Height="18"
                                     Fill="White"
                                     HorizontalAlignment="Left"
                                     Margin="2,0,0,0">
                                <Ellipse.RenderTransform>
                                    <TranslateTransform x:Name="KnobTranslate" X="0"/>
                                </Ellipse.RenderTransform>
                            </Ellipse>
                        </Border>

                        <ContentPresenter Grid.Column="1"
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left"
                                          RecognizesAccessKey="True"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!-- Checked State -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="Track" Property="Background" Value="{DynamicResource SystemAccentBrush}"/>
                            <Setter TargetName="Knob" Property="HorizontalAlignment" Value="Right"/>
                            <Setter TargetName="Knob" Property="Margin" Value="0,0,2,0"/>
                        </Trigger>

                        <!-- Animation could go here but using simple alignment switch for now -->
                        
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Track" Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="CheckBox" BasedOn="{StaticResource StandardCheckBoxStyle}"/>

</ResourceDictionary>
